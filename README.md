# o-icons [![Build Status](https://circleci.com/gh/Financial-Times/o-icons.png?style=shield&circle-token=bd79f68bf3b7af081ef39c62e493e737d56d2958)](https://circleci.com/gh/Financial-Times/o-icons)

Icon font with helper classes, and resolution-independent SVG icons to load via the [responsive image service](http://image.webservices.ft.com).

## Quick start

```html
<!-- Load web fonts with @font-face declarations  -->
<link rel="stylesheet" href="//origami-build.ft.com/v2/bundles/css?modules=o-icons@^2.0.0" />

<!-- In your markup, use the helper classes, such as: -->
<i class="o-icons-icon o-icons-icon--arrow-down"></i>
```

[Complete list of available icons](http://origami-build.ft.com/v2/files/o-icons@latest/demos/all-icons.html)

## Advanced usage

There are multiple ways to use the icons:

1. Using the CSS helper classes
1. Including the predefined Sass mixins into your own CSS classes
1. Manually using the [responsive image service](https://image.webservices.ft.com)

### 1. Using the CSS helper classes

```scss
// public/bundle.scss

$o-icons-is-silent: false;
@import "o-icons/main";
```

```html
<!-- In your markup, use the helper classes, such as: -->
<i class="o-icons-icon o-icons-icon--plus"><i>
```

When using CSS classes, it isn't possible to set a colour for the icon or to specify a size for the PNG fallback. The defaults will be 'black' for the icon colour and '128px' for the icon size.

### 2. Including the predefined Sass mixins into your own CSS classes

This option has the added flexibility of supporting coloured icons and PNG fallbacks of any size.

```scss
// public/bundle.scss

@import "o-icons/main";
@import "o-colors/main"; // So you can use colors from the Origami palette, but mixin accepts hex codes

.icon-plus {
	@include oIconsGetIcon('plus', oColorsGetPaletteColor('cold-1'), 32);
}
```

```html
<i class="icon-plus"></i>
```

The [responsive image service](https://image.webservices.ft.com/) helps serving resolution-independent SVG icons with a resized PNG fallback. Using the mixin from above, you'll get the following output:

```scss
.icon-plus {
	// Older browsers: PNG fallback (resized to 30px wide)
	background-image: url('//image.webservices.ft.com/v1/images/raw/fticon:plus?width=30&format=png&source=o-icons');
	// Modern browsers: SVG covering the whole size of the element
	// we declare multiple backgrounds so that only modern browsers read this property
	background-image: url('//image.webservices.ft.com/v1/images/raw/fticon:plus?format=svg&source=o-icons'), none;

	display: inline-block;
	width: 32px;
	height: 32px;
	background-repeat: no-repeat;
	background-size: contain;
	background-position: 50%;
	background-color: transparent;
	vertical-align: middle;
}
```

There's also a separate mixin to output just the base styles for an icon:

```scss
.icon {
	@include oIconsBaseStyles;
}
```

Which outputs:

```scss
.icon {
	display: inline-block;
	width: 128px;
	height: 128px;
	background-repeat: no-repeat;
	background-size: contain;
	background-position: 50%;
	background-color: transparent;
	vertical-align: middle;
}
```

### 3. Manually using the [responsive image service](https://image.webservices.ft.com)

If you can't use the mixins, and you need to see a custom size or colour, you can also use the [responsive image service](https://image.webservices.ft.com) to fetch the icons in a very similar way as to how the mixin works:

```scss
element {
    display: inline-block;
    width: 100px;
    height: 100px;

    // Older browsers: PNG fallback (resized to 100px wide)
    background-image: url('//image.webservices.ft.com/v1/images/raw/fticon:tick?width=100&format=png&source=my-product');

    // Modern browsers: SVG covering the whole size of the element
    // we declare multiple backgrounds so that only modern browsers read this property
    background-image: url('//image.webservices.ft.com/v1/images/raw/fticon:tick?format=svg&source=my-product'), none;
    background-size: cover;
}
```

## Add / edit icons, build the  demo page

1. Clone the repository and install dependencies:

		git clone https://github.com/Financial-Times/o-icons.git 
		cd o-icons
		obt install

1. Add or edit an SVG file to the `svg` folder (see [SVG file naming rules](#svg-file-naming-rules)).
1. The `_icon-list.scss` file is generated by a Gulp task. Also, the `data.json` file used for demos is generated by a Gulp task. When adding a new icon, these files need to be rebuilt. You just need to run:

		gulp

1. Check the rendering locally (on http://localhost:8080/demos/local):

		obt demo --runServer

### SVG version

The icons module uses SVG version 1.1. Files can be created in any vector graphics software. In Adobe Illustrator use the "save as" function and set to version 1.1

### SVG file naming rules

The file must be named according to the following rules:

1. All lower case
2. Contains only letters, numbers and hyphens (no spaces)
3. Ends with `.svg`

Good: `columnists.svg`, `back-arrow.svg`
Bad: `RightArrow.svg`, `linked_in.svg`, `yahoo!.svg`

##Â Deprecation process

Icon sets can't be versioned so, when removing an icon, keep in mind that it isn't used anywhere. To find out if they're being used, search on [Splunk](http://splunk.internal.ft.com). An example search:

> (host="ftweb61759-law1b-eu-p" OR host="ftweb61758-law1a-eu-p") source="/var/log/httpd/access_log" fticon:section-world| top limit=120 referer

Where you can change _section-world_ for the icon you're looking for.

The following list of icons are deprecated and will be removed in next major release:

* brand-ft-logo-square
* brand-ft-masthead
* brand-ft
* clippings
* more
* refresh
* section-arts
* section-blogs
* section-business-education
* section-business-life
* section-companies
* section-ftfm
* section-magazine
* section-markets
* section-special-report
* section-world
* sign-in
* sign-out
* social-email
* social-facebook
* social-linkedin
* social-twitter
* subscribe
* thumbs-up


## Licence

This software is published by the Financial Times under the [MIT licence](http://opensource.org/licenses/MIT).
